import{S as Oe,i as $e,s as Pe,k as f,q as g,a as R,l as u,m as h,r as b,h as r,c as z,n as v,p as G,b as Q,G as s,I as fe,J as m,K as Le,u as le,B as Ne,L as He,M as Ge}from"../../../chunks/index-5b899b92.js";function Ue(e,a,n){const l=e.slice();return l[23]=a[n][0],l[24]=a[n][1],l}function Re(e){let a,n,l;return{c(){a=f("span"),n=g("line: "),l=g(e[5])},l(t){a=u(t,"SPAN",{});var o=h(a);n=b(o,"line: "),l=b(o,e[5]),o.forEach(r)},m(t,o){Q(t,a,o),s(a,n),s(a,l)},p(t,o){o&32&&le(l,t[5])},d(t){t&&r(a)}}}function ze(e){let a,n=[...e[2]],l=[];for(let t=0;t<n.length;t+=1)l[t]=Ae(Ue(e,n,t));return{c(){a=f("ul");for(let t=0;t<l.length;t+=1)l[t].c()},l(t){a=u(t,"UL",{});var o=h(a);for(let i=0;i<l.length;i+=1)l[i].l(o);o.forEach(r)},m(t,o){Q(t,a,o);for(let i=0;i<l.length;i+=1)l[i].m(a,null)},p(t,o){if(o&132){n=[...t[2]];let i;for(i=0;i<n.length;i+=1){const _=Ue(t,n,i);l[i]?l[i].p(_,o):(l[i]=Ae(_),l[i].c(),l[i].m(a,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(t){t&&r(a),Ge(l,t)}}}function Ae(e){let a,n=e[23]+"",l,t,o,i,_=e[24]+"",k,U,$,E;function A(){return e[19](e[24])}return{c(){a=f("li"),l=g(n),t=g(" ("),o=f("button"),i=g("Go to line "),k=g(_),U=g(")"),this.h()},l(I){a=u(I,"LI",{});var y=h(a);l=b(y,n),t=b(y," ("),o=u(y,"BUTTON",{class:!0});var V=h(o);i=b(V,"Go to line "),k=b(V,_),V.forEach(r),U=b(y,")"),y.forEach(r),this.h()},h(){v(o,"class","link svelte-1w9oy6m")},m(I,y){Q(I,a,y),s(a,l),s(a,t),s(a,o),s(o,i),s(o,k),s(a,U),$||(E=m(o,"click",A),$=!0)},p(I,y){e=I,y&4&&n!==(n=e[23]+"")&&le(l,n),y&4&&_!==(_=e[24]+"")&&le(k,_)},d(I){I&&r(a),$=!1,E()}}}function Me(e){let a,n,l,t,o,i,_,k,U,$,E,A,I,y,V,W,M,P,Y,Z,p,x,H,se,D,c,L,F,J,S,N,ee,ue,de,q,C,he,_e,O,te,ae,ve,oe,pe,ke,w=e[5]&&Re(e),T=e[2].size&&ze(e);return{c(){a=f("h1"),n=g("SRT Validation tool"),l=R(),t=f("div"),o=f("div"),i=f("div"),_=f("div"),k=f("button"),U=g("Validate"),$=R(),E=f("div"),A=f("span"),I=g(e[4]),y=R(),V=f("a"),W=g("⬆️"),M=R(),P=f("a"),Y=g("⬇️"),Z=R(),p=f("textarea"),x=R(),H=f("div"),w&&w.c(),se=R(),D=f("div"),c=f("div"),L=f("button"),F=g("Validate"),J=R(),S=f("div"),N=f("input"),ee=g("."),ue=g(me),de=R(),q=f("div"),C=f("button"),he=g("Save file"),_e=R(),O=f("div"),te=f("h2"),ae=g(e[1]),ve=R(),T&&T.c(),this.h()},l(d){a=u(d,"H1",{});var B=h(a);n=b(B,"SRT Validation tool"),B.forEach(r),l=z(d),t=u(d,"DIV",{class:!0});var ne=h(t);o=u(ne,"DIV",{class:!0});var j=h(o);i=u(j,"DIV",{style:!0,class:!0});var ie=h(i);_=u(ie,"DIV",{class:!0,style:!0});var Ee=h(_);k=u(Ee,"BUTTON",{class:!0});var ye=h(k);U=b(ye,"Validate"),ye.forEach(r),Ee.forEach(r),$=z(ie),E=u(ie,"DIV",{class:!0,style:!0});var K=h(E);A=u(K,"SPAN",{});var ge=h(A);I=b(ge,e[4]),ge.forEach(r),y=z(K),V=u(K,"A",{href:!0});var be=h(V);W=b(be,"⬆️"),be.forEach(r),M=z(K),P=u(K,"A",{href:!0});var we=h(P);Y=b(we,"⬇️"),we.forEach(r),K.forEach(r),ie.forEach(r),Z=z(j),p=u(j,"TEXTAREA",{id:!0,class:!0}),h(p).forEach(r),x=z(j),H=u(j,"DIV",{class:!0});var Te=h(H);w&&w.l(Te),Te.forEach(r),se=z(j),D=u(j,"DIV",{style:!0,class:!0});var X=h(D);c=u(X,"DIV",{class:!0,style:!0});var Ie=h(c);L=u(Ie,"BUTTON",{class:!0});var Ve=h(L);F=b(Ve,"Validate"),Ve.forEach(r),Ie.forEach(r),J=z(X),S=u(X,"DIV",{class:!0,style:!0});var re=h(S);N=u(re,"INPUT",{type:!0,class:!0}),ee=b(re,"."),ue=b(re,me),re.forEach(r),de=z(X),q=u(X,"DIV",{class:!0,style:!0});var Se=h(q);C=u(Se,"BUTTON",{class:!0});var Be=h(C);he=b(Be,"Save file"),Be.forEach(r),Se.forEach(r),X.forEach(r),j.forEach(r),_e=z(ne),O=u(ne,"DIV",{class:!0});var ce=h(O);te=u(ce,"H2",{});var De=h(te);ae=b(De,e[1]),De.forEach(r),ve=z(ce),T&&T.l(ce),ce.forEach(r),ne.forEach(r),this.h()},h(){v(k,"class","svelte-1w9oy6m"),v(_,"class","flex-child svelte-1w9oy6m"),G(_,"width","100%"),v(V,"href","/"),v(P,"href","/"),v(E,"class","flex-child svelte-1w9oy6m"),G(E,"flex","0 auto"),G(i,"padding","10px"),v(i,"class","flex-container svelte-1w9oy6m"),v(p,"id","text_id"),v(p,"class","svelte-1w9oy6m"),v(H,"class","flex-container svelte-1w9oy6m"),v(L,"class","svelte-1w9oy6m"),v(c,"class","flex-child svelte-1w9oy6m"),G(c,"flex","0"),v(N,"type","text"),v(N,"class","svelte-1w9oy6m"),v(S,"class","flex-child svelte-1w9oy6m"),G(S,"flex","2"),G(S,"white-space","nowrap"),G(S,"padding-right","2em"),v(C,"class","svelte-1w9oy6m"),v(q,"class","flex-child svelte-1w9oy6m"),G(q,"flex","0"),G(D,"padding","10px"),v(D,"class","flex-container svelte-1w9oy6m"),v(o,"class","flex-child svelte-1w9oy6m"),v(O,"class",oe="flex-child "+(e[2].size?"ko":"ok")+" svelte-1w9oy6m"),v(t,"class","flex-container svelte-1w9oy6m")},m(d,B){Q(d,a,B),s(a,n),Q(d,l,B),Q(d,t,B),s(t,o),s(o,i),s(i,_),s(_,k),s(k,U),s(i,$),s(i,E),s(E,A),s(A,I),s(E,y),s(E,V),s(V,W),s(E,M),s(E,P),s(P,Y),s(o,Z),s(o,p),fe(p,e[0]),s(o,x),s(o,H),w&&w.m(H,null),s(o,se),s(o,D),s(D,c),s(c,L),s(L,F),s(D,J),s(D,S),s(S,N),fe(N,e[3]),s(S,ee),s(S,ue),s(D,de),s(D,q),s(q,C),s(C,he),s(t,_e),s(t,O),s(O,te),s(te,ae),s(O,ve),T&&T.m(O,null),pe||(ke=[m(k,"click",e[12]),m(V,"click",Le(e[13])),m(P,"click",Le(e[14])),m(p,"input",e[15]),m(p,"change",e[11]),m(p,"scroll",e[11]),m(p,"click",e[10]),m(p,"keypress",e[10]),m(p,"dblclick",e[10]),m(p,"focus",e[10]),m(p,"select",e[10]),m(p,"keyup",e[10]),m(p,"focusout",e[10]),m(p,"abort",e[10]),m(L,"click",e[16]),m(N,"input",e[17]),m(C,"click",e[18])],pe=!0)},p(d,[B]){B&16&&le(I,d[4]),B&1&&fe(p,d[0]),d[5]?w?w.p(d,B):(w=Re(d),w.c(),w.m(H,null)):w&&(w.d(1),w=null),B&8&&N.value!==d[3]&&fe(N,d[3]),B&2&&le(ae,d[1]),d[2].size?T?T.p(d,B):(T=ze(d),T.c(),T.m(O,null)):T&&(T.d(1),T=null),B&4&&oe!==(oe="flex-child "+(d[2].size?"ko":"ok")+" svelte-1w9oy6m")&&v(O,"class",oe)},i:Ne,o:Ne,d(d){d&&r(a),d&&r(l),d&&r(t),w&&w.d(),T&&T.d(),pe=!1,He(ke)}}}const me="srt",je=18;function qe(e,a){const n=[];if(a.length<3)return n.push(`[${e+1}]: Invalid bloc size: '${a.length}'`),n;let l=a[0];l!=`${e+1}`&&n.push(`[${l}]: Index should be '${e+1}'`);let t=a[1];return(!t||!t.match(/\d{2}:\d{2}:\d{2},\d{3} --> \d{2}:\d{2}:\d{2},\d{3}/))&&n.push(`[${l}]: Timestamp '${t}' is not the right format`),n}function Ce(){const e=document.getElementById("text_id");return e?e.scrollTop==0?"top":`${e.scrollTop} - ${e.scrollHeight}`:""}function Fe(e,a,n){const l=new Blob([e],{type:"text/plain;charset=utf-8"}),t=document.createElement("a");t.href=URL.createObjectURL(l),t.download=`${a}.${n}`,t.click(),URL.revokeObjectURL(t.href)}function Je(e,a,n){let l="",t="",o=0,i=[],_=new Map,k="file";function U(c,L=!1){if(c){$();let F=0,J=0;l.split(/\r?\n/).forEach(S=>{if(S.trim())i.push(S);else{let N=qe(o,i);N.length&&N.forEach(ee=>_.set(ee,J+1)),i=[],o++,J=F}F++}),n(1,t=`${new Date().toLocaleTimeString("fr-FR")} - ${_.size?"Errors":"No error"}`)}else n(1,t="");n(2,_),L&&window.scrollTo(0,0)}function $(){o=0,i=[],_.clear()}let E="";function A(c){const L=document.getElementById("text_id");L&&(L.scrollTop=c*je),M()}function I(){const c=document.getElementById("text_id");c&&(c.scrollTop=0),M()}function y(){const c=document.getElementById("text_id");c&&(c.scrollTop=c.scrollHeight),M()}let V="";function W(){const c=document.getElementById("text_id");c&&c.value&&c.selectionStart&&n(5,V=`${c.value.substring(0,c.selectionStart).split(/\r?\n|\r/).length}`)}function M(){n(4,E=Ce())}const P=()=>U(l,!0),Y=()=>I(),Z=()=>y();function p(){l=this.value,n(0,l)}const x=()=>U(l,!0);function H(){k=this.value,n(3,k)}return[l,t,_,k,E,V,U,A,I,y,W,M,P,Y,Z,p,x,H,()=>Fe(l,k,me),c=>A(c)]}class Xe extends Oe{constructor(a){super(),$e(this,a,Je,Me,Pe,{})}}export{Xe as default};
